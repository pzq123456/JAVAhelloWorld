# 地图制图实习使用说明书及设计报告

## 一、使用说明
### 1.结果数据使用说明(pan)
#### 1.1 数据成果及组织结构
1. 所有数据均在dataset文件夹下
> 注意：所有文件中的索引均从0开始，且都遵循相同相同的顺序。
```
dataset/
├── dataset.zip
├── county.csv
├── yield.csv
├── label.txt
```
> https://github.com/pzq123456/DTZT/dataset/

> 有关 `dataset.zip` 的若干说明：
> * `dataset.zip` 组织结构：
> ```
> dataset.zip/
> ├── 0.csv
> ├── 1.csv
> ├── 2.csv
> ...
> ├── 392.csv
> ```
> * `dataset.zip` 中的 `0.csv`、`1.csv`、`2.csv`、...、`392.csv` 为每个县的历史气象数据，由 [CRU](https://crudata.uea.ac.uk/cru/data/hrg/) 提供。具体组织结构：
> ``` csv
> (month:) 1,2,3,4,5,6,7,8,9,10,11,12 in 2005 and so on until 2010
> (Pre:) xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx ...
> (Tmp:) xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx ...
> (Tmx:) xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx ...
> (Tmn:) xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx ...
> ```
> 其中：
> * - 括号内值并不实际存在，仅为说明。
> * - 第一行本不必添加，但为了后续某些操作的方便，添加了一行作为表头。
> * - `Pre` 为降水量，单位为 mm。
> * - `Tmp` 为平均气温，单位为 ℃。
> * - `Tmx` 为最高气温，单位为 ℃。
> * - `Tmn` 为最低气温，单位为 ℃。
> * `dataset.zip`与 `label.txt` 一一对应，构成了训练及验证模型的数据集。
2. `yield.csv` ：该文件包括每个县的冬小麦历年产量数据（2005～2014）、县名以及经纬度。示意格式如下：

|ID|County|lon|lat|2005|2006|...|2014|
|--|--|--|--|--|--|--|--|
|0|鹿泉市|114.3205976|38.09174946|6.324077729|6.469937242|...|7.127886541|
|...|

* `ID` 为县的编号，从0开始。方便起见，本次实验所有成果均遵循此编号。
* 产量单位为 `吨/公顷` 。
* 由于统一编号，所以可以将本表格作为元数据。
* 经纬度数据由 `百度地图api` 提供，具体数据请求过程见下文。
3. `county.csv`： 为中间数据，由 `yield.csv` 生成。可忽略。
#### 1.2 数据使用说明
1. 首先读取 `yield.csv` 中的 `ID`、`County`、`lon`、`lat` 信息，将其作为元数据。
``` python
import pandas as pd
df = pd.read_csv('yield.csv')
df = df[['ID', 'County', 'lon', 'lat']]
df.to_csv('county.csv', index=False)
```
2. 然后根据这些元数据生成访问 `dataset.zip` 的索引，即 `dataset.zip` 中的 `0.csv`、`1.csv`、`2.csv`、...、`392.csv` 。
``` python
import pandas as pd
df = pd.read_csv('county.csv')
df['path'] = df['ID'].apply(lambda x: str(x) + '.csv')
df.to_csv('county.csv', index=False)
```
3. 最后将获取到的数据进行处理，得到最终的数据集。例如与Pytorch的dataset配合使用：
``` python
class MyDataset(Dataset):
    def __init__(self, data, label):
        self.data = data
        self.label = label
    def __getitem__(self, index):
        return self.data[index], self.label[index]
    def __len__(self):
        return len(self.data)
```
### 2.地图制图使用说明(others)
<!-- 请按要求填入内容 -->
<!-- 图片引用格式 -->
<!-- ![图片名称](图片路径) -->
<!-- 所有图片放入imgs/文件夹，不要使用中文标号 -->
#### 2.1.二维地图使用说明(jiao\gao)

#### 2.2.三维地图使用说明(qin)

## 二、设计报告
### 1.数据获取、处理与预测(pan)
### 2.地图制图设计报告(others)
#### 2.1.二维地图设计报告(jiao\gao)
#### 2.2.三维地图设计报告(qin)



